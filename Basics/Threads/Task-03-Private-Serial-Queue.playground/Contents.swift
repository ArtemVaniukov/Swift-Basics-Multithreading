import UIKit
import PlaygroundSupport


let tasker = Tasker()

/// –ü–æ–º–∏–º–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ—á–µ—Ä–µ–¥–µ–π –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ Private –æ—á–µ—Ä–µ–¥–∏ —Å –ø–æ–º–æ—â—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ DispatchQueue:
let serialQueue = DispatchQueue(label: "com.basics.threads.task3.serialQueue")

/// –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –æ—á–µ—Ä–µ–¥–∏, ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –º–µ—Ç–∫–∞ label, –∫–æ—Ç–æ—Ä—É—é Apple —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤ –≤–∏–¥–µ –∏–Ω–≤–µ—Ä—Å–Ω–æ–π DNS –Ω–æ—Ç–∞—Ü–∏–∏ (‚Äúcom.bestkora.mySerial‚Äù), –∏–º–µ–Ω–Ω–æ –ø–æ–¥ —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞ —ç—Ç–∞ –æ—á–µ—Ä–µ–¥—å –≤ –æ—Ç–ª–∞–¥—á–∏–∫–µ. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —ç—Ç–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é —Å—Ç—Ä–æ–∫—É, –ª–∏—à—å –±—ã –æ–Ω–∞ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–¥–∞–µ—Ç–µ –±–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫—Ä–æ–º–µ label –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Private –æ—á–µ—Ä–µ–¥–∏, —Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è (.serial) –æ—á–µ—Ä–µ–¥—å. –ï—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–∏, –∏ –æ –Ω–∏—Ö –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ.

print("------------------------------------------------")
print("   SYNC    ")
print("   Private .serial Q1 - no")
print("------------------------------------------------")

serialQueue.sync { tasker.task("üòÑ") }
tasker.task("üëø")


print("\n")
print("------------------------------------------------")
print("   ASYNC    ")
print("   Private .serial Q1 - no")
print("------------------------------------------------")

serialQueue.async { tasker.task("üòÑ") }
tasker.task("üëø")

/// –í —Å–ª—É—á–∞–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ sync –º—ã –≤–∏–¥–∏–º —Ç—É –∂–µ —Å–∏—Ç—É–∞—Ü–∏—é, —á—Ç–æ –∏ –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–µ 1 -—Ç–∏–ø –æ—á–µ—Ä–µ–¥–∏ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏—è sync –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞ —Ç–µ–∫—É—â–µ–º –ø–æ—Ç–æ–∫–µ. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –º—ã –∏ –≤–∏–¥–∏–º.

/// –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º async –º–µ—Ç–æ–¥ –∏ –ø–æ–∑–≤–æ–ª–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ serialQueue –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è
/// task("üòÑ")
/// –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —Ç–µ–∫—É—â–µ–π –æ—á–µ—Ä–µ–¥–∏? –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –Ω–µ –æ–∂–∏–¥–∞–µ—Ç, –ø–æ–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥–∏ serialQueue;

/// —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–π–¥–µ—Ç –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–¥–∞–Ω–∏–π
/// task("üëø")
/// –∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å –∏—Ö –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è, —á—Ç–æ –∏ –∑–∞–¥–∞–Ω–∏—è
/// task("üòÑ")
 
